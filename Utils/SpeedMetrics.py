# -*- coding: utf-8 -*-
"""
Created on Fri Aug 13 15:02:15 2021

@author: ShengzhiHuang
"""
import numpy as np


def CaculateSpeedMetrics(P):
    '''
    Parameters
    ----------
    P : np.array()
        d x N matrix.

    Returns
    -------
    dis_list : np.array()
        the Euclidian distance between two adjacent points.
    AverageSpeed : int
        the average of speed.

    '''
    d, N = P.shape
    
    if N < 2:
        # 文章只有一个fos
        avg_speed = 0
    else:
        dis_list = list()
        for row_i in range(N):
            vec_i = P[:, row_i]
            for row_j in range(N):
                if row_i == row_j:
                    continue
                vec_j = P[:, row_j]
                dis_ij = np.linalg.norm(vec_i - vec_j)
            dis_list.append(dis_ij)
        avg_speed = np.mean(dis_list)
    
    return avg_speed
